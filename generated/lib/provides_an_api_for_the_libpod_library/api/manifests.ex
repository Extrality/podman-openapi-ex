# NOTE: This file is auto generated by OpenAPI Generator 7.19.0-SNAPSHOT (https://openapi-generator.tech).
# Do not edit this file manually.

defmodule ProvidesAnAPIForTheLibpodLibrary.Api.Manifests do
  @moduledoc """
  API calls for all endpoints tagged `Manifests`.
  """

  alias ProvidesAnAPIForTheLibpodLibrary.Connection
  import ProvidesAnAPIForTheLibpodLibrary.RequestBuilder

  @doc """
  Add image
  Add an image to a manifest list  Deprecated: As of 4.0.0 use ManifestModifyLibpod instead 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the manifest
  - `opts` (keyword): Optional parameters
    - `:body` (ManifestAddOptions): options for creating a manifest

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_add_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t()}
          | {:error, Tesla.Env.t()}
  def manifest_add_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :body => :body
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/manifests/#{name}/add")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Create
  Create a manifest list

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): manifest list or index name to create
  - `images` (String.t): One or more names of an image or a manifest list. Repeat parameter as needed.  Support for multiple images, as of version 4.0.0 Alias of `image` is support for compatibility with < 4.0.0 Response status code is 200 with < 4.0.0 for compatibility 
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): add all contents if given list
    - `:body` (ManifestModifyOptions): options for new manifest

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_create_libpod(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t()}
          | {:error, Tesla.Env.t()}
  def manifest_create_libpod(connection, name, images, opts \\ []) do
    optional_params = %{
      :all => :query,
      :body => :body
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/manifests")
      |> add_param(:query, :name, name)
      |> add_param(:query, :images, images)
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {201, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Delete manifest list
  Delete named manifest list  As of v4.0.0 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): The name or ID of the  list to be deleted
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.LibpodImagesRemoveReport.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_delete_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.LibpodImagesRemoveReport.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def manifest_delete_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:delete)
      |> url("/libpod/manifests/#{name}")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.LibpodImagesRemoveReport},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Exists
  Check if manifest list exists  Note: There is no contract that the manifest list will exist for a follow-on operation 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the manifest list
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_exists_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def manifest_exists_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/libpod/manifests/#{name}/exists")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Inspect
  Display attributes of given manifest list

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the manifest list
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.Schema2List.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_inspect_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.Schema2List.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def manifest_inspect_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/libpod/manifests/#{name}/json")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.Schema2List},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Modify manifest list
  Add/Remove an image(s) to a manifest list  Note: operations are not atomic when multiple Images are provided.  As of v4.0.0 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the manifest
  - `options` (ManifestModifyOptions): options for mutating a manifest
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ManifestModifyReport.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_modify_libpod(
          Tesla.Env.client(),
          String.t(),
          ProvidesAnAPIForTheLibpodLibrary.Model.ManifestModifyOptions.t(),
          keyword()
        ) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ManifestModifyReport.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def manifest_modify_libpod(connection, name, options, _opts \\ []) do
    request =
      %{}
      |> method(:put)
      |> url("/libpod/manifests/#{name}")
      |> add_param(:body, :body, options)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ManifestModifyReport},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.ManifestModifyReport},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Push manifest list to registry
  Push a manifest list or image index to the named registry  As of v4.0.0 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the manifest list
  - `destination` (String.t): the registry for the manifest list
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): push all images
    - `:tlsVerify` (boolean()): skip TLS verification for registries

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_push_libpod(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t()}
          | {:error, Tesla.Env.t()}
  def manifest_push_libpod(connection, name, destination, opts \\ []) do
    optional_params = %{
      :all => :query,
      :tlsVerify => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/manifests/#{name}/registry/#{destination}")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Push manifest to registry
  Push a manifest list or image index to a registry  Deprecated: As of 4.0.0 use ManifestPushLibpod instead 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the manifest
  - `destination` (String.t): the destination for the manifest
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): push all images

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec manifest_push_v3_libpod(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse.t()}
          | {:error, Tesla.Env.t()}
  def manifest_push_v3_libpod(connection, name, destination, opts \\ []) do
    optional_params = %{
      :all => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/manifests/#{name}/push")
      |> add_param(:query, :destination, destination)
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.IdResponse},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end
end
