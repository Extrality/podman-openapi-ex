# NOTE: This file is auto generated by OpenAPI Generator 7.19.0-SNAPSHOT (https://openapi-generator.tech).
# Do not edit this file manually.

defmodule ProvidesAnAPIForTheLibpodLibrary.Api.Containers do
  @moduledoc """
  API calls for all endpoints tagged `Containers`.
  """

  alias ProvidesAnAPIForTheLibpodLibrary.Connection
  import ProvidesAnAPIForTheLibpodLibrary.RequestBuilder

  @doc """
  Attach to a container
  Hijacks the connection to forward the container's standard streams to the client.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:detachKeys` (String.t): keys to use for detaching from the container
    - `:logs` (boolean()): Stream all logs from the container across the connection. Happens before streaming attach (if requested). At least one of logs or stream must be set
    - `:stream` (boolean()): Attach to the container. If unset, and logs is set, only the container's logs will be sent. At least one of stream or logs must be set
    - `:stdout` (boolean()): Attach to container STDOUT
    - `:stderr` (boolean()): Attach to container STDERR
    - `:stdin` (boolean()): Attach to container STDIN

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_attach_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_attach_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :detachKeys => :query,
      :logs => :query,
      :stream => :query,
      :stdout => :query,
      :stderr => :query,
      :stdin => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/attach")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {101, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Report on changes to container's filesystem; adds, deletes or modifications.
  Returns which files in a container's filesystem have been added, deleted, or modified. The Kind of modification can be one of:  0: Modified 1: Added 2: Deleted 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or id of the container
  - `opts` (keyword): Optional parameters
    - `:parent` (String.t): specify a second layer which is used to compare against it instead of the parent layer
    - `:diffType` (String.t): select what you want to match, default is all

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_changes_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_changes_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :parent => :query,
      :diffType => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/changes")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Checkpoint a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:keep` (boolean()): keep all temporary checkpoint files
    - `:leaveRunning` (boolean()): leave the container running after writing checkpoint to disk
    - `:tcpEstablished` (boolean()): checkpoint a container with established TCP connections
    - `:export` (boolean()): export the checkpoint image to a tar.gz
    - `:ignoreRootFS` (boolean()): do not include root file-system changes when exporting
    - `:printStats` (boolean()): add checkpoint statistics to the returned CheckpointReport

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_checkpoint_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_checkpoint_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :keep => :query,
      :leaveRunning => :query,
      :tcpEstablished => :query,
      :export => :query,
      :ignoreRootFS => :query,
      :printStats => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/checkpoint")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Create a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:body` (SpecGenerator): attributes for creating a container

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerCreate201Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_create_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerCreate201Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_create_libpod(connection, opts \\ []) do
    optional_params = %{
      :body => :body
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/create")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {201, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerCreate201Response},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Delete container
  Delete container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:depend` (boolean()): additionally remove containers that depend on the container to be removed
    - `:force` (boolean()): force stop container if running
    - `:ignore` (boolean()): ignore errors when the container to be removed does not existxo
    - `:timeout` (integer()): number of seconds to wait before killing container when force removing
    - `:v` (boolean()): delete volumes

  ### Returns

  - `{:ok, [%LibpodContainersRmReport{}, ...]}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_delete_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, [ProvidesAnAPIForTheLibpodLibrary.Model.LibpodContainersRmReport.t()]}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_delete_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :depend => :query,
      :force => :query,
      :ignore => :query,
      :timeout => :query,
      :v => :query
    }

    request =
      %{}
      |> method(:delete)
      |> url("/libpod/containers/#{name}")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.LibpodContainersRmReport},
      {204, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Check if container exists
  Quick way to determine if a container exists by name or ID

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_exists_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_exists_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/exists")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Export a container
  Export the contents of a container as a tarball.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_export_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_export_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/export")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Run a container's healthcheck
  Execute the defined healthcheck and return information about the results

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerHealthcheckLibpod200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_healthcheck_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok,
             ProvidesAnAPIForTheLibpodLibrary.Model.ContainerHealthcheckLibpod200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_healthcheck_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/healthcheck")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerHealthcheckLibpod200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, false},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Initialize a container
  Performs all tasks necessary for initializing the container but does not start the container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_init_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_init_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/init")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {304, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Inspect container
  Return low-level information about a container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:size` (boolean()): display filesystem usage

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerInspectLibpod200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_inspect_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerInspectLibpod200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_inspect_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :size => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/json")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerInspectLibpod200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Kill container
  send a signal to a container, defaults to killing the container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:signal` (String.t): signal to be sent to container, either by integer or SIG_ name

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_kill_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_kill_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :signal => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/kill")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  List containers
  Returns a list of containers

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): Return all containers. By default, only running containers are shown
    - `:limit` (integer()): Return this number of most recently created containers, including non-running ones.
    - `:pod` (boolean()): Ignored. Previously included details on pod name and ID that are currently included by default.
    - `:size` (boolean()): Return the size of container as fields SizeRw and SizeRootFs.
    - `:sync` (boolean()): Sync container state with OCI runtime
    - `:filters` (String.t): A JSON encoded value of the filters (a `map[string][]string`) to process on the containers list. Available filters: - `ancestor`=(`<image-name>[:<tag>]`, `<image id>`, or `<image@digest>`) - `before`=(`<container id>` or `<container name>`) - `expose`=(`<port>[/<proto>]` or `<startport-endport>/[<proto>]`) - `exited=<int>` containers with exit code of `<int>` - `health`=(`starting`, `healthy`, `unhealthy` or `none`) - `id=<ID>` a container's ID - `is-task`=(`true` or `false`) - `label`=(`key` or `\"key=value\"`) of an container label - `name=<name>` a container's name - `network`=(`<network id>` or `<network name>`) - `pod`=(`<pod id>` or `<pod name>`) - `publish`=(`<port>[/<proto>]` or `<startport-endport>/[<proto>]`) - `since`=(`<container id>` or `<container name>`) - `status`=(`created`, `restarting`, `running`, `removing`, `paused`, `exited` or `dead`) - `volume`=(`<volume name>` or `<mount point destination>`) 

  ### Returns

  - `{:ok, [%ListContainer{}, ...]}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_list_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, [ProvidesAnAPIForTheLibpodLibrary.Model.ListContainer.t()]}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_list_libpod(connection, opts \\ []) do
    optional_params = %{
      :all => :query,
      :limit => :query,
      :pod => :query,
      :size => :query,
      :sync => :query,
      :filters => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/json")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ListContainer},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Get container logs
  Get stdout and stderr logs from a container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:follow` (boolean()): Keep connection after returning logs.
    - `:stdout` (boolean()): Return logs from stdout
    - `:stderr` (boolean()): Return logs from stderr
    - `:since` (String.t): Only return logs since this time, as a UNIX timestamp
    - `:until` (String.t): Only return logs before this time, as a UNIX timestamp
    - `:timestamps` (boolean()): Add timestamps to every log line
    - `:tail` (String.t): Only return this number of log lines from the end of the logs

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_logs_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_logs_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :follow => :query,
      :stdout => :query,
      :stderr => :query,
      :since => :query,
      :until => :query,
      :timestamps => :query,
      :tail => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/logs")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Mount a container
  Mount a container to the filesystem

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, String.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_mount_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, String.t()}
          | {:error, Tesla.Env.t()}
  def container_mount_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/mount")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Pause a container
  Use the cgroups freezer to suspend all processes in a container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_pause_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_pause_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/pause")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Delete stopped containers
  Remove containers not in use

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:filters` (String.t): Filters to process on the prune list, encoded as JSON (a `map[string][]string`).  Available filters:  - `until=<timestamp>` Prune containers created before this timestamp. The `<timestamp>` can be Unix timestamps, date formatted timestamps, or Go duration strings (e.g. `10m`, `1h30m`) computed relative to the daemon machineâ€™s time.  - `label` (`label=<key>`, `label=<key>=<value>`, `label!=<key>`, or `label!=<key>=<value>`) Prune containers with (or without, in case `label!=...` is used) the specified labels. 

  ### Returns

  - `{:ok, [%LibpodContainersPruneReport{}, ...]}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_prune_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, [ProvidesAnAPIForTheLibpodLibrary.Model.LibpodContainersPruneReport.t()]}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_prune_libpod(connection, opts \\ []) do
    optional_params = %{
      :filters => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/prune")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.LibpodContainersPruneReport},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Rename an existing container
  Change the name of an existing container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): Full or partial ID or full name of the container to rename
  - `name2` (String.t): New name for the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_rename_libpod(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_rename_libpod(connection, name, name2, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/rename")
      |> add_param(:query, :name, name2)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Resize a container's TTY
  Resize the terminal attached to a container (for use with Attach).

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:h` (integer()): Height to set for the terminal, in characters
    - `:w` (integer()): Width to set for the terminal, in characters

  ### Returns

  - `{:ok, map()}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_resize_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, map()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_resize_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :h => :query,
      :w => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/resize")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, %{}},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Restart a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:t` (integer()): number of seconds to wait before killing container

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_restart_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_restart_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :t => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/restart")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Restore a container
  Restore a container from a checkpoint.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or id of the container
  - `opts` (keyword): Optional parameters
    - `:name` (String.t): the name of the container when restored from a tar. can only be used with import
    - `:keep` (boolean()): keep all temporary checkpoint files
    - `:leaveRunning` (boolean()): leave the container running after writing checkpoint to disk
    - `:tcpEstablished` (boolean()): checkpoint a container with established TCP connections
    - `:import` (boolean()): import the restore from a checkpoint tar.gz
    - `:ignoreRootFS` (boolean()): do not include root file-system changes when exporting
    - `:ignoreStaticIP` (boolean()): ignore IP address if set statically
    - `:ignoreStaticMAC` (boolean()): ignore MAC address if set statically
    - `:printStats` (boolean()): add restore statistics to the returned RestoreReport

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_restore_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_restore_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :name => :query,
      :keep => :query,
      :leaveRunning => :query,
      :tcpEstablished => :query,
      :import => :query,
      :ignoreRootFS => :query,
      :ignoreStaticIP => :query,
      :ignoreStaticMAC => :query,
      :printStats => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/restore")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Show mounted containers
  Lists all mounted containers mount points

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, %{}}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_show_mounted_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, %{optional(String.t()) => String.t()}}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_show_mounted_libpod(connection, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/showmounted")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, %{}},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Start a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:detachKeys` (String.t): Override the key sequence for detaching a container. Format is a single character [a-Z] or ctrl-<value> where <value> is one of: a-z, @, ^, [, , or _.

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_start_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_start_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :detachKeys => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/start")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {304, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Get stats for a container
  DEPRECATED. This endpoint will be removed with the next major release. Please use /libpod/containers/stats instead.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:stream` (boolean()): Stream the output

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_stats_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_stats_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :stream => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/stats")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Stop a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): Stop all containers
    - `:timeout` (integer()): number of seconds to wait before killing container
    - `:Ignore` (boolean()): do not return error if container is already stopped

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_stop_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_stop_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :all => :query,
      :timeout => :query,
      :Ignore => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/stop")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {304, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  List processes
  List processes running inside a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): Name of container to query for processes (As of version 1.xx)
  - `opts` (keyword): Optional parameters
    - `:stream` (boolean()): when true, repeatedly stream the latest output (As of version 4.0)
    - `:delay` (integer()): if streaming, delay in seconds between updates. Must be >1. (As of version 4.0)
    - `:ps_args` (String.t): arguments to pass to ps such as aux. Requires ps(1) to be installed in the container if no ps(1) compatible AIX descriptors are used. 

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerTop200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_top_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerTop200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_top_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :stream => :query,
      :delay => :query,
      :ps_args => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/top")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerTop200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Unmount a container
  Unmount a container from the filesystem

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_unmount_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_unmount_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/unmount")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Unpause Container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_unpause_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_unpause_libpod(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/unpause")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Wait on a container
  Wait on a container to met a given condition

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:condition` ([String.t]): Conditions to wait for. If no condition provided the 'exited' condition is assumed.
    - `:interval` (String.t): Time Interval to wait before polling for completion.

  ### Returns

  - `{:ok, integer()}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_wait_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, integer()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_wait_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :condition => :query,
      :interval => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/containers/#{name}/wait")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Get stats for one or more containers
  Return a live stream of resource usage statistics of one or more container. If no container is specified, the statistics of all containers are returned.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:containers` ([String.t]): names or IDs of containers
    - `:stream` (boolean()): Stream the output
    - `:interval` (integer()): Time in seconds between stats reports

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainersStatsAllLibpod200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec containers_stats_all_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainersStatsAllLibpod200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def containers_stats_all_libpod(connection, opts \\ []) do
    optional_params = %{
      :containers => :query,
      :stream => :query,
      :interval => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/stats")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainersStatsAllLibpod200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Generate a Kubernetes YAML file.
  Generate Kubernetes YAML based on a pod or container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `names` ([String.t]): Name or ID of the container or pod.
  - `opts` (keyword): Optional parameters
    - `:service` (boolean()): Generate YAML for a Kubernetes service object.

  ### Returns

  - `{:ok, String.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec generate_kube_libpod(Tesla.Env.client(), list(String.t()), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, String.t()}
          | {:error, Tesla.Env.t()}
  def generate_kube_libpod(connection, names, opts \\ []) do
    optional_params = %{
      :service => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/generate/kube")
      |> add_param(:query, :names, names)
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Generate Systemd Units
  Generate Systemd Units based on a pod or container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): Name or ID of the container or pod.
  - `opts` (keyword): Optional parameters
    - `:useName` (boolean()): Use container/pod names instead of IDs.
    - `:new` (boolean()): Create a new container instead of starting an existing one.
    - `:noHeader` (boolean()): Do not generate the header including the Podman version and the timestamp.
    - `:startTimeout` (integer()): Start timeout in seconds.
    - `:stopTimeout` (integer()): Stop timeout in seconds.
    - `:restartPolicy` (String.t): Systemd restart-policy.
    - `:containerPrefix` (String.t): Systemd unit name prefix for containers.
    - `:podPrefix` (String.t): Systemd unit name prefix for pods.
    - `:separator` (String.t): Systemd unit name separator between name/id and prefix.
    - `:restartSec` (integer()): Configures the time to sleep before restarting a service.
    - `:wants` ([String.t]): Systemd Wants list for the container or pods.
    - `:after` ([String.t]): Systemd After list for the container or pods.
    - `:requires` ([String.t]): Systemd Requires list for the container or pods.

  ### Returns

  - `{:ok, %{}}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec generate_systemd_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, %{optional(String.t()) => String.t()}}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def generate_systemd_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :useName => :query,
      :new => :query,
      :noHeader => :query,
      :startTimeout => :query,
      :stopTimeout => :query,
      :restartPolicy => :query,
      :containerPrefix => :query,
      :podPrefix => :query,
      :separator => :query,
      :restartSec => :query,
      :wants => :query,
      :after => :query,
      :requires => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/generate/#{name}/systemd")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, %{}},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Commit
  Create a new image from a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `container` (String.t): the name or ID of a container
  - `opts` (keyword): Optional parameters
    - `:repo` (String.t): the repository name for the created image
    - `:tag` (String.t): tag name for the created image
    - `:comment` (String.t): commit message
    - `:author` (String.t): author of the image
    - `:pause` (boolean()): pause the container before committing it
    - `:changes` ([String.t]): instructions to apply while committing in Dockerfile format (i.e. \"CMD=/bin/foo\")
    - `:format` (String.t): format of the image manifest and metadata (default \"oci\")

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec image_commit_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def image_commit_libpod(connection, container, opts \\ []) do
    optional_params = %{
      :repo => :query,
      :tag => :query,
      :comment => :query,
      :author => :query,
      :pause => :query,
      :changes => :query,
      :format => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/commit")
      |> add_param(:query, :container, container)
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {201, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Remove pods from play kube
  Tears down pods defined in a YAML file

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.PlayKubeReport.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec play_kube_down_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.PlayKubeReport.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def play_kube_down_libpod(connection, _opts \\ []) do
    request =
      %{}
      |> method(:delete)
      |> url("/libpod/play/kube")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.PlayKubeReport},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Play a Kubernetes YAML file.
  Create and run pods based on a Kubernetes YAML file (pod or service kind).

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:network` ([String.t]): USe the network mode or specify an array of networks.
    - `:tlsVerify` (boolean()): Require HTTPS and verify signatures when contacting registries.
    - `:logDriver` (String.t): Logging driver for the containers in the pod.
    - `:start` (boolean()): Start the pod after creating it.
    - `:staticIPs` ([String.t]): Static IPs used for the pods.
    - `:staticMACs` ([String.t]): Static MACs used for the pods.
    - `:body` (String.t): Kubernetes YAML file.

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.PlayKubeReport.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec play_kube_libpod(Tesla.Env.client(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.PlayKubeReport.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def play_kube_libpod(connection, opts \\ []) do
    optional_params = %{
      :network => :query,
      :tlsVerify => :query,
      :logDriver => :query,
      :start => :query,
      :staticIPs => :query,
      :staticMACs => :query,
      :body => :body
    }

    request =
      %{}
      |> method(:post)
      |> url("/libpod/play/kube")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.PlayKubeReport},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Copy files into a container
  Copy a tar archive of files into a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): container name or id
  - `path` (String.t): Path to a directory in the container to extract
  - `opts` (keyword): Optional parameters
    - `:pause` (boolean()): pause the container while copying (defaults to true)
    - `:body` (String.t): tarfile of files to copy into the container

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec put_container_archive_libpod(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def put_container_archive_libpod(connection, name, path, opts \\ []) do
    optional_params = %{
      :pause => :query,
      :body => :body
    }

    request =
      %{}
      |> method(:put)
      |> url("/libpod/containers/#{name}/archive")
      |> add_param(:query, :path, path)
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {403, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end
end
