# NOTE: This file is auto generated by OpenAPI Generator 7.19.0-SNAPSHOT (https://openapi-generator.tech).
# Do not edit this file manually.

defmodule ProvidesAnAPIForTheLibpodLibrary.Api.ContainersCompat do
  @moduledoc """
  API calls for all endpoints tagged `ContainersCompat`.
  """

  alias ProvidesAnAPIForTheLibpodLibrary.Connection
  import ProvidesAnAPIForTheLibpodLibrary.RequestBuilder

  @doc """
  Get files from a container
  Get a tar archive of files from a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): container name or id
  - `path` (String.t): Path to a directory in the container to extract
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, String.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_archive(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, String.t()}
          | {:error, Tesla.Env.t()}
  def container_archive(connection, name, path, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/containers/#{name}/archive")
      |> add_param(:query, :path, path)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Copy files from a container
  Copy a tar archive of files from a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): container name or id
  - `path` (String.t): Path to a directory in the container to extract
  - `opts` (keyword): Optional parameters
    - `:rename` (String.t): JSON encoded map[string]string to translate paths

  ### Returns

  - `{:ok, String.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_archive_libpod(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:ok, String.t()}
          | {:error, Tesla.Env.t()}
  def container_archive_libpod(connection, name, path, opts \\ []) do
    optional_params = %{
      :rename => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/archive")
      |> add_param(:query, :path, path)
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Attach to a container
  Hijacks the connection to forward the container's standard streams to the client.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:detachKeys` (String.t): keys to use for detaching from the container
    - `:logs` (boolean()): Stream all logs from the container across the connection. Happens before streaming attach (if requested). At least one of logs or stream must be set
    - `:stream` (boolean()): Attach to the container. If unset, and logs is set, only the container's logs will be sent. At least one of stream or logs must be set
    - `:stdout` (boolean()): Attach to container STDOUT
    - `:stderr` (boolean()): Attach to container STDERR
    - `:stdin` (boolean()): Attach to container STDIN

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_attach(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_attach(connection, name, opts \\ []) do
    optional_params = %{
      :detachKeys => :query,
      :logs => :query,
      :stream => :query,
      :stdout => :query,
      :stderr => :query,
      :stdin => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/attach")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {101, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Report on changes to container's filesystem; adds, deletes or modifications.
  Returns which files in a container's filesystem have been added, deleted, or modified. The Kind of modification can be one of:  0: Modified 1: Added 2: Deleted 

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or id of the container
  - `opts` (keyword): Optional parameters
    - `:parent` (String.t): specify a second layer which is used to compare against it instead of the parent layer
    - `:diffType` (String.t): select what you want to match, default is all

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_changes_libpod(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_changes_libpod(connection, name, opts \\ []) do
    optional_params = %{
      :parent => :query,
      :diffType => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/libpod/containers/#{name}/changes")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Create a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `body` (CreateContainerConfig): Container to create
  - `opts` (keyword): Optional parameters
    - `:name` (String.t): container name

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerCreate201Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_create(
          Tesla.Env.client(),
          ProvidesAnAPIForTheLibpodLibrary.Model.CreateContainerConfig.t(),
          keyword()
        ) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerCreate201Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_create(connection, body, opts \\ []) do
    optional_params = %{
      :name => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/create")
      |> add_param(:body, :body, body)
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {201, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerCreate201Response},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Remove a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:force` (boolean()): If the container is running, kill it before removing it.
    - `:v` (boolean()): Remove the volumes associated with the container.
    - `:link` (boolean()): not supported

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_delete(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_delete(connection, name, opts \\ []) do
    optional_params = %{
      :force => :query,
      :v => :query,
      :link => :query
    }

    request =
      %{}
      |> method(:delete)
      |> url("/containers/#{name}")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Export a container
  Export the contents of a container as a tarball.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_export(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_export(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/containers/#{name}/export")
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Inspect container
  Return low-level information about a container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or id of the container
  - `opts` (keyword): Optional parameters
    - `:size` (boolean()): include the size of the container

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerInspect200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_inspect(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerInspect200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_inspect(connection, name, opts \\ []) do
    optional_params = %{
      :size => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/containers/#{name}/json")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerInspect200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Kill container
  Signal to send to the container as an integer or string (e.g. SIGINT)

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): Send kill signal to all containers
    - `:signal` (String.t): signal to be sent to container

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_kill(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_kill(connection, name, opts \\ []) do
    optional_params = %{
      :all => :query,
      :signal => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/kill")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  List containers
  Returns a list of containers

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:all` (boolean()): Return all containers. By default, only running containers are shown
    - `:external` (boolean()): Return containers in storage not controlled by Podman
    - `:limit` (integer()): Return this number of most recently created containers, including non-running ones.
    - `:size` (boolean()): Return the size of container as fields SizeRw and SizeRootFs.
    - `:filters` (String.t): Returns a list of containers.  - ancestor=(<image-name>[:<tag>], <image id>, or <image@digest>)  - before=(<container id> or <container name>)  - expose=(<port>[/<proto>]|<startport-endport>/[<proto>])  - exited=<int> containers with exit code of <int>  - health=(starting|healthy|unhealthy|none)  - id=<ID> a container's ID  - is-task=(true|false)  - label=key or label=\"key=value\" of a container label  - name=<name> a container's name  - network=(<network id> or <network name>)  - publish=(<port>[/<proto>]|<startport-endport>/[<proto>])  - since=(<container id> or <container name>)  - status=(created|restarting|running|removing|paused|exited|dead)  - volume=(<volume name> or <mount point destination>) 

  ### Returns

  - `{:ok, map()}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_list(Tesla.Env.client(), keyword()) ::
          {:ok, map()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_list(connection, opts \\ []) do
    optional_params = %{
      :all => :query,
      :external => :query,
      :limit => :query,
      :size => :query,
      :filters => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/containers/json")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, %{}},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Get container logs
  Get stdout and stderr logs from a container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:follow` (boolean()): Keep connection after returning logs.
    - `:stdout` (boolean()): Return logs from stdout
    - `:stderr` (boolean()): Return logs from stderr
    - `:since` (String.t): Only return logs since this time, as a UNIX timestamp
    - `:until` (String.t): Only return logs before this time, as a UNIX timestamp
    - `:timestamps` (boolean()): Add timestamps to every log line
    - `:tail` (String.t): Only return this number of log lines from the end of the logs

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_logs(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_logs(connection, name, opts \\ []) do
    optional_params = %{
      :follow => :query,
      :stdout => :query,
      :stderr => :query,
      :since => :query,
      :until => :query,
      :timestamps => :query,
      :tail => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/containers/#{name}/logs")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Pause container
  Use the cgroups freezer to suspend all processes in a container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_pause(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_pause(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/pause")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Delete stopped containers
  Remove containers not in use

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:filters` (String.t): Filters to process on the prune list, encoded as JSON (a `map[string][]string`).  Available filters:  - `until=<timestamp>` Prune containers created before this timestamp. The `<timestamp>` can be Unix timestamps, date formatted timestamps, or Go duration strings (e.g. `10m`, `1h30m`) computed relative to the daemon machine’s time.  - `label` (`label=<key>`, `label=<key>=<value>`, `label!=<key>`, or `label!=<key>=<value>`) Prune containers with (or without, in case `label!=...` is used) the specified labels. 

  ### Returns

  - `{:ok, [%ContainersPruneReport{}, ...]}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_prune(Tesla.Env.client(), keyword()) ::
          {:ok, [ProvidesAnAPIForTheLibpodLibrary.Model.ContainersPruneReport.t()]}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_prune(connection, opts \\ []) do
    optional_params = %{
      :filters => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/prune")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainersPruneReport},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Rename an existing container
  Change the name of an existing container.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): Full or partial ID or full name of the container to rename
  - `name2` (String.t): New name for the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_rename(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_rename(connection, name, name2, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/rename")
      |> add_param(:query, :name, name2)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {409, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Resize a container's TTY
  Resize the terminal attached to a container (for use with Attach).

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:h` (integer()): Height to set for the terminal, in characters
    - `:w` (integer()): Width to set for the terminal, in characters
    - `:running` (boolean()): Ignore containers not running errors

  ### Returns

  - `{:ok, map()}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_resize(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, map()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_resize(connection, name, opts \\ []) do
    optional_params = %{
      :h => :query,
      :w => :query,
      :running => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/resize")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, %{}},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Restart container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:t` (integer()): timeout before sending kill signal to container

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_restart(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_restart(connection, name, opts \\ []) do
    optional_params = %{
      :t => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/restart")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Start a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:detachKeys` (String.t): Override the key sequence for detaching a container. Format is a single character [a-Z] or ctrl-<value> where <value> is one of: a-z, @, ^, [, , or _.

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_start(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_start(connection, name, opts \\ []) do
    optional_params = %{
      :detachKeys => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/start")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {304, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Get stats for a container
  This returns a live stream of a container’s resource usage statistics.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:stream` (boolean()): Stream the output
    - `:"one-shot"` (boolean()): Provide a one-shot response in which preCPU stats are blank, resulting in a single cycle return.

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_stats(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_stats(connection, name, opts \\ []) do
    optional_params = %{
      :stream => :query,
      :"one-shot" => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/containers/#{name}/stats")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Stop a container
  Stop a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:t` (integer()): number of seconds to wait before killing container

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_stop(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_stop(connection, name, opts \\ []) do
    optional_params = %{
      :t => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/stop")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {304, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  List processes running inside a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:ps_args` (String.t): arguments to pass to ps such as aux. Requires ps(1) to be installed in the container if no ps(1) compatible AIX descriptors are used.

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerTop200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_top(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerTop200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_top(connection, name, opts \\ []) do
    optional_params = %{
      :ps_args => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/containers/#{name}/top")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerTop200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Unpause container
  Resume a paused container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_unpause(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_unpause(connection, name, _opts \\ []) do
    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/unpause")
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {204, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Wait on a container
  Block until a container stops or given condition is met.

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): the name or ID of the container
  - `opts` (keyword): Optional parameters
    - `:condition` (String.t): wait until container is to a given condition. default is stopped. valid conditions are:   - configured   - created   - exited   - paused   - running   - stopped 
    - `:interval` (String.t): Time Interval to wait before polling for completion.

  ### Returns

  - `{:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerWait200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec container_wait(Tesla.Env.client(), String.t(), keyword()) ::
          {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerWait200Response.t()}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def container_wait(connection, name, opts \\ []) do
    optional_params = %{
      :condition => :query,
      :interval => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/containers/#{name}/wait")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, ProvidesAnAPIForTheLibpodLibrary.Model.ContainerWait200Response},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  New Image
  Create a new image from a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:container` (String.t): the name or ID of a container
    - `:repo` (String.t): the repository name for the created image
    - `:tag` (String.t): tag name for the created image
    - `:comment` (String.t): commit message
    - `:author` (String.t): author of the image
    - `:pause` (boolean()): pause the container before committing it
    - `:changes` (String.t): instructions to apply while committing in Dockerfile format

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec image_commit(Tesla.Env.client(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def image_commit(connection, opts \\ []) do
    optional_params = %{
      :container => :query,
      :repo => :query,
      :tag => :query,
      :comment => :query,
      :author => :query,
      :pause => :query,
      :changes => :query
    }

    request =
      %{}
      |> method(:post)
      |> url("/commit")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {201, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end

  @doc """
  Put files into a container
  Put a tar archive of files into a container

  ### Parameters

  - `connection` (ProvidesAnAPIForTheLibpodLibrary.Connection): Connection to server
  - `name` (String.t): container name or id
  - `path` (String.t): Path to a directory in the container to extract
  - `opts` (keyword): Optional parameters
    - `:noOverwriteDirNonDir` (String.t): if unpacking the given content would cause an existing directory to be replaced with a non-directory and vice versa (1 or true)
    - `:copyUIDGID` (String.t): copy UID/GID maps to the dest file or di (1 or true)
    - `:body` (String.t): tarfile of files to copy into the container

  ### Returns

  - `{:ok, nil}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec put_container_archive(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, nil}
          | {:ok, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response.t()}
          | {:error, Tesla.Env.t()}
  def put_container_archive(connection, name, path, opts \\ []) do
    optional_params = %{
      :noOverwriteDirNonDir => :query,
      :copyUIDGID => :query,
      :body => :body
    }

    request =
      %{}
      |> method(:put)
      |> url("/containers/#{name}/archive")
      |> add_param(:query, :path, path)
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, false},
      {400, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {403, false},
      {404, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response},
      {500, ProvidesAnAPIForTheLibpodLibrary.Model.SystemAuth500Response}
    ])
  end
end
